# vim:ft=sh

source ~/.bash_functions

# Aliases
alias ls="command ls --color=auto -F"
alias which="type"
alias ssh-tmp="command ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o LogLevel=ERROR"
alias hc="_hardCopy"
alias compress="_compress"
alias extract="_extract"
alias mcd="_makeChangeDirectory"
alias history="_history"
function dc () { [[ $# -gt 0 ]] && local _d=${@: -1}; cd ${_d:-..}; }
complete -F _dcBackwardsPathCompletion dc

# Set prompt
if [[ $- == *i* ]]; then
    shopt -s checkwinsize
    _exportColorCodes
    export PROMPT_COMMAND=_setPrompt
fi

# Directory colors
if [[ -r ~/.dircolors ]]; then
    # Static color rules in .dircolors file
    eval $(dircolors -b ~/.dircolors)
    # Dynamic color rules altered as follows:
    _ow=({ow,tw}"=1;35;4${COLOR_BG_BOLD_ID}")
    _tmp=({*~,*#,*#*,*.swp,*.swo,*\,v}"=1;3${COLOR_BG_BOLD_ID}")
    export LS_COLORS="$LS_COLORS:$(_join : ${_ow[@]}):$(_join : ${_tmp[@]})"
fi

# ack/ag settings
IFS= read -d '' _ack_options <<EOF
--color-filename='green'
--color-match='bold red'
--color-lineno='blue'
--type-set=cc:ext:c,cc,cpp,cxx
--type-set=hh:ext:h,hh,hpp,hxx
EOF
export ACK_OPTIONS="${_ack_options//$'\n'/ }"
IFS= read -d '' _ag_options <<EOF
--color-path='32'
--color-match='1;31'
--color-line-number='34'
EOF
export AG_OPTIONS="${_ag_options//$'\n'/ }"
alias ag="command ag $AG_OPTIONS"

alias s="search"
alias sag="search-ag"
alias a="search-select"
alias sls="search-list-cache"

# Disable command-not-found handler
unset command_not_found_handle

# Disable annoying password popup
unset SSH_ASKPASS

